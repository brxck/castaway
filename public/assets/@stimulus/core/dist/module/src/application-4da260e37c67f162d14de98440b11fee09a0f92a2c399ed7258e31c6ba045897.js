import{Router}from"./router";import{defaultSchema}from"./schema";var Application=function(){function t(t,r){void 0===t&&(t=document.documentElement),void 0===r&&(r=defaultSchema),this.element=t,this.schema=r,this.router=new Router(this)}return t.start=function(r,o){var e=new t(r,o);return e.start(),e},t.prototype.start=function(){this.router.start()},t.prototype.stop=function(){this.router.stop()},t.prototype.register=function(t,r){this.load({identifier:t,controllerConstructor:r})},t.prototype.load=function(t){for(var r=this,o=[],e=1;e<arguments.length;e++)o[e-1]=arguments[e];(Array.isArray(t)?t:[t].concat(o)).forEach(function(t){return r.router.loadDefinition(t)})},t.prototype.unload=function(t){for(var r=this,o=[],e=1;e<arguments.length;e++)o[e-1]=arguments[e];(Array.isArray(t)?t:[t].concat(o)).forEach(function(t){return r.router.unloadIdentifier(t)})},Object.defineProperty(t.prototype,"controllers",{get:function(){return this.router.contexts.map(function(t){return t.controller})},enumerable:!0,configurable:!0}),t.prototype.getControllerForElementAndIdentifier=function(t,r){var o=this.router.getContextForElementAndIdentifier(t,r);return o?o.controller:null},t.prototype.handleError=function(t,r,o){console.error("%s\n\n%o\n\n%o",r,t,o)},t}();export{Application};